<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>sample1</title></head>
<body><p>&nbsp;</p>
<p><img src='http://www.pixijs.com/img/pixijs-v4-logo.png' alt='' referrerPolicy='no-referrer' /></p>
<h1>[ 1 ] Pixi.js 로 텍스트 움직여보기</h1>
<h2><u>1. Pixi.js란?</u></h2>
<p>The HTML5 Creation Engine
Create beautiful digital content with the fastest, most flexible 2D <u><strong>WebGL</strong></u> <strong><u>renderer.</u></strong></p>
<p>HTML5 생성 엔진
가장 빠르고 유연한 2D WebGL 렌더링을 통해 아름다운 디지털 컨텐츠를 만드십시오.</p>
<h3>WebGL이란?</h3>
<ul>
<li><p>웹 브라우저에서 아무런 플러그인 없이 3D 그래픽을 그릴 수 있는 사실 상의 표준 3D 그래픽 라이브러리</p>
</li>
<li><p>W3C에서 관리하지 않기 때문에 W3C HTML5 스펙에 WebGL 없음. 그러나 사용률 기준 글로벌 브라우저에서 거의 다 WebGL 지원한다.</p>
</li>
<li><p>그림을 그리는 성능이 캔버스보다 뛰어나고, CPU에게 더 많은 여유를 준다.</p>
<p>비교 : <strong><a href='http://hanmomhanda.github.io/WebGL-Study/src/practice/canvas2D-Rect.html'>Canvas2D</a></strong> vs <strong><a href='http://hanmomhanda.github.io/WebGL-Study/src/practice/Shifting-Multiple-Triangles-Opt.html'>WebGL</a></strong></p>
</li>
<li><p>비동기 (non-blocking) : JavaScript는 WebGL API인 gl.dorw***() 호출로 그리기를 그래픽 처리 장치 (Graphics Processing Unit)에 위임하고, 그리기 결과 대기없이 바로 다음 라인의 JavaScript를 수행한다.</p>
</li>

</ul>
<h3>rendering이란?</h3>
<ul>
<li>평면인 그림에 형태·위치·조명 등 외부의 정보에 따라 다르게 나타나는 <a href='https://terms.naver.com/entry.nhn?docId=1069294&ref=y'>그림자</a>·<a href='https://terms.naver.com/entry.nhn?docId=1110296&ref=y'>색상</a>·<a href='https://terms.naver.com/entry.nhn?docId=1077651&ref=y'>농도</a> 등을 고려하면서 실감나는 3차원 화상을 만들어내는 과정 또는 그러한 기법을 일컫는다.</li>

</ul>
<p>이 라이브러리를 사용해 만든 애니메이션은, WebGL을 자동적으로 사용해 주고 있다.</p>
<p>pixi.js의 examples 페이지에 여러가지 예제가 소개되어 있다.
<a href='http://www.pixijs.com/' target='_blank' class='url'>http://www.pixijs.com/</a></p>
<p>*Star warp - sprites
<a href='https://pixijs.io/examples/#/demos/star-warp-sprites.js' target='_blank' class='url'>https://pixijs.io/examples/#/demos/star-warp-sprites.js</a>
*Mouse blending
<a href='https://pixijs.io/examples/#/filters/filter-mouse.js' target='_blank' class='url'>https://pixijs.io/examples/#/filters/filter-mouse.js</a>
*Slots demo
<a href='https://pixijs.io/examples/#/demos/slots-demo.js' target='_blank' class='url'>https://pixijs.io/examples/#/demos/slots-demo.js</a></p>
<h2><u>2. Pixi.js 설치하기</u></h2>
<p><a href='https://github.com/pixijs/pixi.js' target='_blank' class='url'>https://github.com/pixijs/pixi.js</a>
<a href='https://github.com/pixijs/pixi.js/releases' target='_blank' class='url'>https://github.com/pixijs/pixi.js/releases</a></p>
<p><a href='https://github.com/pixijs/pixi.js/releases/download/v4.8.3/pixi.js'><strong>pixi.js</strong></a> or <a href='https://github.com/pixijs/pixi.js/releases/download/v4.8.3/pixi.min.js'><strong>pixi.min.js</strong></a> 를 다운로드 받아 파일을 로드하면, pixi.js 기능을 이용하는것이 가능해진다.</p>
<pre><code>&lt;script src=&quot;pixi.js&quot;&gt;&lt;/script&gt;
</code></pre>
<h2><u>3. 텍스트 움직여 보기</u></h2>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;ko&quot;&gt;
&lt;head&gt;
	&lt;title&gt;sample1&lt;/title&gt;
	&lt;meta charset=&quot;UTF-8&quot;&gt;
	&lt;meta name=&quot;description&quot; content=&quot;&quot;&gt;
	&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge,chrome=1&quot;&gt;
	&lt;meta name=&quot;viewport&quot; content=&quot;width=1920, user-scalable=no&quot;&gt;
	&lt;script src=&quot;js/pixi.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;div id=&quot;pixiview&quot;&gt;&lt;/div&gt;
	&lt;script&gt;	
		var width = 600;
		var height = 400;

		//스테이지를 만든다
		var stage = new PIXI.Stage(000);

		//렌더링을 만든다
		var renderer = PIXI.autoDetectRenderer(width, height);

		//렌더링의 View를 html의 요소에 추가한다
		document.getElementById(&#39;pixiview&#39;).appendChild(renderer.view);

		//텍스트 오브젝트를 만든다
		var text = &#39;Hello World!&#39;;
		var style = new PIXI.TextStyle({
			fontFamily:&#39;Arial&#39;,
			fontSize:90,
			fontWeight:&#39;bold&#39;,
			fill:&#39;#fff&#39;
		});
		var textobj = new PIXI.Text(text, style);
		textobj.anchor.x = 0.5;
		textobj.anchor.y = 0.5;
		textobj.position.x = width/2;
		textobj.position.y = height/2;

		var blurFilter = new PIXI.filters.BlurFilter();
		textobj.filters = [blurFilter];		
		
		//텍스트 오브젝트를 스테이지에 싣는다
		stage.addChild(textobj);

		var count = 0;
		//애니메이션 함수를 정의한다
		function animate(){
			count += 0.01;
			requestAnimationFrame(animate);			
			var blurAmount = Math.cos(count);
			blurFilter.blur = 20 * (blurAmount);			
			textobj.rotation += 0.03;
			renderer.render(stage);			
		}
		
		//다음의 애니메이션 프레임으로 animate()를 불러온다
		requestAnimationFrame(animate);	
	&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3>전체적인 흐름 </h3>
<p>pixi.js 애니메이션은 기본적으로 아래와 같은 흐름으로 이루어진다.</p>
<p><strong>1. 오브젝트 (화상 스프라이트나 텍스트등), 스테이지, 렌더링을 만든다.</strong></p>
<pre><code>var width = 600;
var height = 400;

var stage = new PIXI.Stage(000);
var renderer = PIXI.autoDetectRenderer(width, height);
</code></pre>
<p>PIXI.STAGE() 를 생성한다. 파라미터에 있는것은 배경색이다.
PIXI.autoDetectRenderer() 를 생성한다.
지정하고 있는것은, 렌더링이 취급하는 화면영역의 높이, 가로사이즈 이다.</p>
<p><strong>2. 렌더링의 View를 html의 요소에 추가한다.</strong></p>
<pre><code>document.getElementById(&#39;pixiview&#39;).appendChild(renderer.view);
</code></pre>
<p><strong>3. 애니메이션 오브젝트를 만든다.</strong></p>
<pre><code>var text = &#39;Hello World!&#39;;
var style = new PIXI.TextStyle({
    fontFamily:&#39;Arial&#39;,
    fontSize:90,
    fontWeight:&#39;bold&#39;,
    fill:&#39;#fff&#39;
});

var blurFilter = new PIXI.filters.BlurFilter();
textobj.filters = [blurFilter];	

var textobj = new PIXI.Text(text, style);
textobj.anchor.x = 0.5;
textobj.anchor.y = 0.5;
textobj.position.x = width/2;
textobj.position.y = height/2;
</code></pre>
<p>먼저 변수 text에 글자를 넣어주고, new PIXI.TextStyle를 생성하여 글자 사이즈랑 색깔등을 지정해 주고, new PIXI.Text(text, style) 를 생성하여 텍스트의 위치와 값을 정해주었다. anchor와 position 프로퍼티로 객체의 위치를 지정해 주고, blur 효과도 추가했다.</p>
<p><img src='C:\Users\Yoon\Desktop\작업\0_study\d2\1_Pixi.js\작업\제목 없음.png' alt='' referrerPolicy='no-referrer' /></p>
<p><strong>3. 애니메이션 오브젝트를 스테이지에 싣는다</strong>.</p>
<pre><code>stage.addChild(textobj);
</code></pre>
<p>오브젝트 스테이지 등록은 스테이지 오브젝트의 addChilde()메서드로 행한다.</p>
<p><strong>4. 애니메이션 함수를 정의한다.</strong></p>
<pre><code>var count = 0;
//애니메이션 함수를 정의한다
function animate(){
    count += 0.01;
    var blurAmount = Math.cos(count);
    blurFilter.blur = 20 * (blurAmount); //블러효과			
    textobj.rotation += 0.03; //텍스트 회전
    renderer.render(stage); //그림을 그린다
    requestAnimationFrame(animate); // 다음 타이밍에서 애니메이션을 부른다
}
</code></pre>
<p><strong>5. 다음의 애니메이션 프레임으로 animate()를 불러온다.</strong></p>
<pre><code>requestAnimationFrame(animate);	
</code></pre>
<p>&nbsp;</p>
<h2>참고 사이트</h2>
<ul>
<li><a href='http://www.pixijs.com' target='_blank' class='url'>http://www.pixijs.com</a></li>
<li><a href='https://qiita.com/tadfmac' target='_blank' class='url'>https://qiita.com/tadfmac</a></li>
<li><a href='https://www.slideshare.net/hanmomhanda/web-gl-42962918' target='_blank' class='url'>https://www.slideshare.net/hanmomhanda/web-gl-42962918</a></li>
<li><a href='https://terms.naver.com/entry.nhn?docId=1231713&cid=40942&categoryId=32828' target='_blank' class='url'>https://terms.naver.com/entry.nhn?docId=1231713&cid=40942&categoryId=32828</a></li>
<li><a href='https://www.programering.com/a/MDOxUzMwATA.html' target='_blank' class='url'>https://www.programering.com/a/MDOxUzMwATA.html</a></li>

</ul>
</body>
</html>